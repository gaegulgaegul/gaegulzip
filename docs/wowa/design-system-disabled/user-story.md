# 사용자 스토리: 스케치 디자인 시스템 비활성화 상태 개선

## 개요

스케치 스타일 디자인 시스템에서 비활성화 상태를 시각적으로 명확하게 구분하기 위해, 기존의 투명도(opacity) 처리에 더해 대각선 빗금(hatching) 패턴을 추가한다. 사용자는 비활성화된 인터랙티브 요소를 더욱 직관적으로 인지할 수 있으며, hatching 스타일은 장식적 요소가 아닌 비활성화 시각적 피드백으로 일관되게 사용된다.

## 사용자 스토리

### US-1: 비활성화 상태 시각적 피드백
- **As a** 모바일 앱 사용자
- **I want to** 버튼, 스위치, 라디오, 체크박스가 비활성화되었을 때 명확한 시각적 신호(대각선 빗금)를 보길 원함
- **So that** 클릭할 수 없는 요소를 한눈에 구분하고, 불필요한 시도를 줄일 수 있음

### US-2: 일관된 hatching 의미
- **As a** 디자인 시스템 사용자
- **I want to** hatching(대각선 빗금) 패턴이 비활성화 상태를 의미하도록 일관되게 사용되길 원함
- **So that** 다른 스타일과 혼동하지 않고, 디자인 언어의 일관성을 유지할 수 있음

### US-3: 모달 버튼 스타일 수정
- **As a** 모달 다이얼로그 사용자
- **I want to** OK/확인 버튼이 primary 스타일로 명확하게 보이길 원함
- **So that** 주요 액션 버튼을 빠르게 인지하고 작업을 완료할 수 있음

## 사용자 시나리오

### 시나리오 1: 비활성화된 버튼 인지
1. 사용자가 폼 입력 화면에 진입
2. 필수 입력 항목이 비어있어 "제출" 버튼이 비활성화 상태
3. 시스템이 버튼에 흐릿한 색상 + 대각선 빗금 패턴을 표시
4. 결과: 사용자가 버튼을 클릭할 수 없음을 직관적으로 이해

### 시나리오 2: 비활성화된 스위치 인지
1. 사용자가 설정 화면에 진입
2. "알림 허용" 스위치가 시스템 권한 미허용으로 비활성화 상태
3. 시스템이 스위치에 대각선 빗금 패턴을 표시
4. 결과: 사용자가 현재 변경할 수 없는 상태임을 인지하고, 설정 앱으로 이동하여 권한을 변경

### 시나리오 3: 비활성화된 라디오/체크박스 인지
1. 사용자가 옵션 선택 화면에 진입
2. 특정 조건이 충족되지 않아 일부 옵션이 비활성화 상태
3. 시스템이 비활성화된 라디오/체크박스에 대각선 빗금 패턴을 표시
4. 결과: 사용자가 선택 불가능한 옵션을 명확하게 구분

### 시나리오 4: 모달 확인 버튼 인지
1. 사용자가 삭제 확인 모달을 띄움
2. 모달에 "취소"(outline) + "확인"(primary) 버튼이 표시됨
3. 시스템이 "확인" 버튼을 검은 배경 + 흰 텍스트로 강조 표시
4. 결과: 사용자가 주요 액션을 빠르게 인지하고 의도한 작업 수행

## 인수 조건 (Acceptance Criteria)

- [ ] 버튼(SketchButton)의 onPressed가 null일 때 대각선 빗금 패턴이 표시됨
- [ ] 스위치(SketchSwitch)의 onChanged가 null일 때 대각선 빗금 패턴이 표시됨
- [ ] 라디오(SketchRadio)의 onChanged가 null일 때 대각선 빗금 패턴이 표시됨
- [ ] 체크박스(SketchCheckbox)의 onChanged가 null일 때 대각선 빗금 패턴이 표시됨
- [ ] 기존 SketchButtonStyle.hatching은 여전히 작동하며, 비활성화 시 추가 빗금 오버레이가 표시됨
- [ ] 모달의 OK 버튼이 SketchButtonStyle.primary로 변경됨 (검은 배경 + 흰 텍스트)
- [ ] 모달 데모(modal_demo.dart)에서 변경된 OK 버튼 스타일을 확인할 수 있음
- [ ] 모든 비활성화 상태는 기존 opacity 처리를 유지하면서 빗금 패턴을 추가함
- [ ] Light/Dark 모드에서 빗금 패턴 색상이 테마에 따라 적절히 표시됨

## 엣지 케이스

- **SketchButtonStyle.hatching + disabled**: 기존 hatching 스타일에 추가로 disabled hatching 오버레이가 중첩되어 표시됨
- **아이콘만 있는 버튼**: 텍스트 없이 아이콘만 있는 경우에도 빗금 패턴이 정상 표시됨
- **로딩 상태 버튼**: isLoading=true일 때는 비활성화로 간주하지 않으므로 빗금 패턴 표시 안 함
- **체크박스 tristate**: null 값일 때도 onChanged가 null이면 비활성화로 표시됨

## 비즈니스 규칙

- 비활성화 상태 판단 기준: `onPressed == null` 또는 `onChanged == null`
- `isLoading == true`는 비활성화가 아닌 임시 상태이므로 빗금 표시 안 함
- hatching 패턴은 "비활성화 상태"를 의미하는 디자인 언어로 고정
- 모달의 주요 액션 버튼은 primary 스타일(강조)로 통일

## 필요한 데이터

| 데이터 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| onPressed | VoidCallback? | ✅ | 버튼의 활성/비활성화 판단 (null = disabled) |
| onChanged | ValueChanged? | ✅ | 스위치/라디오/체크박스의 활성/비활성화 판단 (null = disabled) |
| isLoading | bool | ❌ | 버튼 로딩 상태 (true일 때 비활성화 아님) |
| disabledFillColor | Color | ❌ | 비활성화 상태 배경 색상 (테마 기본값 사용 가능) |
| disabledBorderColor | Color | ❌ | 비활성화 상태 테두리 색상 (테마 기본값 사용 가능) |
| disabledTextColor | Color | ❌ | 비활성화 상태 텍스트/빗금 색상 (테마 기본값 사용 가능) |

## 비기능 요구사항

- **성능**: HatchingPainter 렌더링 비용이 기존 SketchPainter 수준을 초과하지 않아야 함
- **접근성**: 빗금 패턴만으로 비활성화를 표현하지 않고, 색상 + opacity 조합으로 색약자도 구분 가능해야 함
- **일관성**: 모든 인터랙티브 위젯에서 동일한 비활성화 시각 언어를 사용함
- **기존 API 호환**: 기존 위젯 API(파라미터, 동작)를 변경하지 않고 내부 렌더링만 개선
- **에러 처리**: hatching 렌더링 실패 시 fallback으로 기존 opacity 처리만 표시
