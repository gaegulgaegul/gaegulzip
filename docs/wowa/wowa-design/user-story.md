# 사용자 스토리: wowa 앱 디자인 시스템 적용

## 개요

wowa 앱의 모든 화면이 일관된 디자인 시스템(design_system 패키지의 Frame0 스케치 스타일 컴포넌트)을 사용하도록 하여, 사용자에게 통일감 있고 직관적인 UI/UX를 제공합니다. 현재 일부 화면은 Flutter 기본 위젯(Container, TextButton, AppBar 등)을 사용하고 있어 디자인 일관성이 부족하며, 스케치 스타일 테마가 제대로 적용되지 않은 상태입니다.

## 사용자 스토리

### US-1: 일관된 버튼 스타일 경험
- **As a** wowa 앱 사용자
- **I want to** 모든 화면에서 동일한 스타일의 버튼을 경험하고
- **So that** 어떤 화면에서든 버튼을 쉽게 인지하고 상호작용할 수 있다

### US-2: 통일된 텍스트 입력 필드
- **As a** wowa 앱 사용자
- **I want to** 모든 입력 필드가 동일한 디자인과 에러 표시 방식을 가지고
- **So that** 입력 오류나 필수 정보를 일관되게 파악할 수 있다

### US-3: 일관된 카드 레이아웃
- **As a** wowa 앱 사용자
- **I want to** WOD 정보, 박스 정보, 알림 등 모든 콘텐츠 카드가 동일한 스타일로 표시되고
- **So that** 정보의 위계와 구조를 직관적으로 이해할 수 있다

### US-4: 통일된 앱바와 네비게이션
- **As a** wowa 앱 사용자
- **I want to** 모든 화면의 상단 바(앱바)가 동일한 디자인을 가지고
- **So that** 현재 위치를 명확히 인지하고 뒤로 가기 등의 액션을 일관되게 수행할 수 있다

### US-5: 일관된 로딩 및 상태 표시
- **As a** wowa 앱 사용자
- **I want to** 데이터 로딩, 에러, 빈 상태 등이 모든 화면에서 동일한 방식으로 표시되고
- **So that** 현재 앱 상태를 즉시 파악하고 다음 액션을 판단할 수 있다

### US-6: 손그림 스타일 테마 경험
- **As a** wowa 앱 사용자
- **I want to** 앱 전체가 친근한 손그림(스케치) 스타일로 표현되고
- **So that** 딱딱한 정식 앱이 아닌 부담 없는 프로토타입 느낌으로 앱을 사용할 수 있다

## 사용자 시나리오

### 시나리오 1: 로그인 후 홈 화면 진입 (정상 플로우)
1. 사용자가 로그인 화면에서 소셜 로그인 버튼을 클릭한다
2. 시스템이 SketchButton으로 디자인된 버튼을 표시하고 로딩 상태를 보여준다
3. 사용자가 로그인에 성공하면 홈 화면으로 이동한다
4. 홈 화면에서 WOD 카드들이 SketchCard로 일관되게 표시된다
5. 사용자가 "WOD 등록" 버튼을 눌러 등록 화면으로 이동한다
6. 등록 화면에서도 동일한 스타일의 SketchInput과 SketchButton이 표시된다
7. 결과: 사용자는 화면 전환 시에도 일관된 디자인을 경험한다

### 시나리오 2: 박스 검색 및 생성 (정상 플로우)
1. 사용자가 설정 화면에서 "박스 변경" 메뉴를 선택한다
2. 시스템이 박스 검색 화면을 표시하고, SketchInput으로 디자인된 검색 필드를 보여준다
3. 사용자가 검색어를 입력하면 SketchCard로 표시된 검색 결과 목록을 확인한다
4. 검색 결과가 없으면 사용자가 "새 박스 만들기" 버튼을 클릭한다
5. 박스 생성 화면에서 SketchInput 입력 필드들(이름, 지역, 설명)을 채운다
6. SketchButton 스타일의 "박스 생성" 버튼을 클릭한다
7. 결과: 사용자는 검색부터 생성까지 동일한 UI 패턴을 경험한다

### 시나리오 3: WOD 등록 (입력 에러 발생)
1. 사용자가 WOD 등록 화면에서 운동 타입을 선택한다 (SketchChip으로 표시)
2. 사용자가 운동 정보를 입력하는데, 필수 필드를 비워둔다
3. 시스템이 SketchInput의 errorText 속성으로 에러 메시지를 표시한다 (붉은색 테두리 + 에러 텍스트)
4. 사용자가 에러 메시지를 보고 필드를 올바르게 채운다
5. SketchButton의 활성화 상태가 변경되어 "WOD 등록" 버튼이 클릭 가능해진다
6. 결과: 사용자는 디자인 시스템의 에러 처리 패턴을 통해 명확한 피드백을 받는다

### 시나리오 4: 알림 목록 조회 (빈 상태)
1. 사용자가 알림 아이콘을 클릭하여 알림 목록 화면으로 이동한다
2. 시스템이 데이터를 로딩하는 동안 SketchProgressBar를 표시한다
3. 알림이 하나도 없는 경우, 빈 상태 안내(아이콘 + 메시지)를 일관된 스타일로 표시한다
4. 결과: 사용자는 "알림이 없다"는 상태를 명확히 인지한다

### 시나리오 5: WOD 변경 제안 검토 (승인/거부)
1. Base WOD 등록자가 홈 화면에서 "변경 제안이 있습니다" 배너를 클릭한다
2. 제안 검토 화면에서 Before/After WOD를 SketchCard로 비교하여 본다
3. 사용자가 SketchButton 스타일의 "승인" 또는 "거부" 버튼을 선택한다
4. 시스템이 처리 중 상태를 SketchButton의 isLoading으로 표시한다
5. 결과: 사용자는 중요한 의사결정을 일관된 UI로 수행한다

## 인수 조건 (Acceptance Criteria)

- [ ] 모든 버튼이 SketchButton으로 교체되어 primary/secondary/outline 스타일이 일관되게 적용된다
- [ ] 모든 텍스트 입력 필드가 SketchInput으로 교체되어 label, hint, errorText가 통일된 방식으로 표시된다
- [ ] WOD, 박스, 알림 등 모든 콘텐츠 카드가 SketchCard로 교체되어 header/body/footer 구조가 일관된다
- [ ] 모든 AppBar가 SketchAppBar 또는 일관된 스타일로 교체된다
- [ ] 모든 로딩 상태 표시가 SketchProgressBar로 통일된다
- [ ] 모든 칩/태그 UI가 SketchChip으로 통일된다
- [ ] 모든 모달 다이얼로그가 SketchModal로 통일된다
- [ ] 홈 화면에서 설정 화면까지 모든 주요 화면이 디자인 시스템을 사용한다
- [ ] 라이트/다크 모드 전환 시에도 디자인 시스템의 테마가 올바르게 적용된다
- [ ] 사용자가 화면 간 이동 시 일관된 디자인 경험을 느낀다

## 엣지 케이스

- **이미 디자인 시스템을 사용 중인 화면**: 변경하지 않고 유지 (Login, Box Search/Create, WOD Register/Select/Detail, Settings, Notification 등)
- **Flutter 기본 위젯을 사용하는 화면**: 디자인 시스템 컴포넌트로 교체 (Home의 일부 영역, 일부 커스텀 위젯)
- **특수한 UI 요구사항이 있는 경우**: SketchContainer를 기반으로 커스텀 위젯 생성
- **성능이 중요한 리스트**: const 생성자와 seed 고정으로 불필요한 리페인트 방지
- **네이티브 플랫폼 위젯 필요 시**: 소셜 로그인 버튼처럼 SocialLoginButton을 사용 (브랜드 가이드라인 준수)

## 비즈니스 규칙

- Frame0 스케치 스타일의 핵심 원칙을 유지한다: "프로토타입임을 알리는 손그림 디자인"
- 모든 디자인 값은 SketchDesignTokens에서 가져온다 (하드코딩 금지)
- roughness 기본값 0.8을 유지하여 자연스러운 손그림 느낌을 제공한다
- 디자인 시스템 패키지에 정의된 컴포넌트를 우선 사용하며, 없는 경우에만 새로 추가를 검토한다
- 모든 색상은 accentPrimary(#DF7D5F 코랄/오렌지)를 기본 강조색으로 사용한다

## 필요한 데이터

| 데이터 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| 현재 화면 구조 | UI 구조 | ✅ | 각 화면의 위젯 트리 구조 파악 |
| 디자인 시스템 컴포넌트 목록 | 컴포넌트 | ✅ | SketchButton, SketchCard, SketchInput 등 사용 가능한 컴포넌트 |
| 디자인 토큰 | 상수 | ✅ | 색상, 간격, 폰트 크기 등 디자인 값 |
| 기존 import 패턴 | 코드 참조 | ✅ | 디자인 시스템 패키지 import 방식 |

## 비기능 요구사항

- **성능**: 디자인 시스템 적용 후에도 화면 렌더링 성능이 저하되지 않아야 함
  - SketchPainter의 seed를 고정하여 동일한 렌더링 보장
  - 불필요한 노이즈 텍스처는 enableNoise: false로 비활성화
  - const 생성자 적극 활용
- **접근성**:
  - 다크 모드에서도 충분한 색상 대비 유지 (SketchThemeExtension.dark() 프리셋 사용)
  - 버튼의 최소 터치 영역 확보 (SketchButton의 size 속성 활용)
  - 에러 메시지는 색상뿐 아니라 텍스트로도 명확히 전달
- **에러 처리**:
  - 입력 검증 실패 시 SketchInput의 errorText로 명확한 메시지 표시
  - API 실패 시 SketchModal로 사용자 친화적 에러 안내
  - 네트워크 에러, 빈 상태 등을 일관된 Empty State 패턴으로 표시
- **유지보수성**:
  - 디자인 변경 시 design_system 패키지만 수정하면 전체 앱에 반영
  - 하드코딩된 색상/간격 값 제거로 디자인 토큰 기반 관리
  - 재사용 가능한 위젯 패턴 확립
